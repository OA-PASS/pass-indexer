{
  "settings": {
    "index" : {
      "refresh_interval" : "10s"
    },
    "analysis": {
      "char_filter" : {
        "fedora_uri_to_path" : {
          "type": "pattern_replace",
          "pattern": "http://fcrepo:8080/fcrepo/rest|https://pass/fcrepo/rest",
          "replacement": ""
        }
      },
      "normalizer": {
        "ignorecase": {
          "type": "custom",
          "char_filter": [],
          "filter": ["lowercase", "asciifolding"]
        },
        "fedora_uri": {
          "type": "custom",
          "char_filter": ["fedora_uri_to_path"],
          "filter": []
        }
      }
    }
  },
  "mappings": {
    "_doc": {
      "dynamic": false,      
      "properties": {
        "@id": {"type": "keyword", "normalizer": "fedora_uri"},
        "@type": {"type": "keyword"},        
        "abstract": {"type": "text"},
        "author": {"type": "keyword", "normalizer": "fedora_uri"},
        "awardNumber": {"type": "keyword", "normalizer": "ignorecase", "copy_to": "awardNumber_suggest"},
        "awardNumber_suggest": {"type": "completion"},
        "assignedId": {"type": "keyword", "normalizer": "fedora_uri"},
        "copis": {"type": "keyword", "normalizer": "fedora_uri"},
        "creationDate": {"type": "date"},
        "creator": {"type": "keyword", "normalizer": "fedora_uri"},
        "deposits": {"type": "keyword", "normalizer": "fedora_uri"},
        "doi": {"type": "keyword"},
        "email": {"type": "keyword"},
        "endDate": {"type": "date"},
        "externalId": {"type": "keyword", "normalizer": "fedora_uri"},
        "funder": {"type": "keyword", "normalizer": "fedora_uri"},
        "grant": {"type": "keyword", "normalizer": "fedora_uri"},
        "grants": {"type": "keyword", "normalizer": "fedora_uri"},
        "identifier": {"type": "keyword", "normalizer": "fedora_uri"},
        "issue": {"type": "keyword"},
        "ISSNs": {"type": "keyword"},
        "label": {"type": "text"},
        "journal": {"type": "keyword", "normalizer": "fedora_uri"},
        "journals": {"type": "keyword", "normalizer": "fedora_uri"},
        "name": {"type": "text"},
        "nlmta": {"type": "keyword"},
        "oapCompliance": {"type": "keyword"},
        "orcid": {"type": "keyword"},
        "pi": {"type": "keyword", "normalizer": "fedora_uri"},
        "pmcParticipation": {"type": "keyword"},
        "projectName": {"type": "text", "copy_to": "projectName_suggest"},
        "projectName_suggest": {"type": "completion"},
        "publisher": {"type": "keyword"},
        "repo": {"type": "keyword"},
        "requested": {"type": "keyword"},
        "role": {"type": "keyword"},
        "status": {"type": "keyword"},
        "startDate": {"type": "date"},
        "step": {"type": "keyword"},
        "steps": {"type": "keyword"},
        "type": {"type": "keyword"},
        "title": {"type": "text"},
        "submissions": {"type": "keyword", "normalizer": "fedora_uri"},
        "submittedDate": {"type": "date"},
        "updatedDate": {"type": "date"},
        "uri": {"type": "keyword"},
        "username": {"type": "keyword"},
        "volume": {"type": "keyword"}
      }
    }
  }
}
